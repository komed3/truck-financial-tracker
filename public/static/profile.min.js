const _=e=>document.getElementById(e);async function loadProfiles(){const e=(n="profilesList",document.getElementById(n));var n;try{const n=await fetch("/api/index");if(!n.ok)throw new Error("Failed to fetch profiles");const o=await n.json();if(!o||0===o.length)return void(e.innerHTML='<div class="empty">No profiles found. Create a new one below.</div>');e.innerHTML=o.map((e=>`<div class="profile-card"><h3>${e.gameInfo.playerName} — ${e.gameInfo.game.toUpperCase()}</h3><p class="info">${e.gameInfo.companyName} • ${e.gameInfo.startingLocation} • ${e.gameInfo.currency}</p><p class="date">Created at ${new Intl.DateTimeFormat("en-US").format(new Date(e.gameInfo.createdAt))}</p><button class="btn primary" onclick="location.href='?profile=${e.profileId}'">Open Profile</button></div>`)).join("")}catch(n){e.innerHTML=`<div class="empty">Error loading profiles: ${n.message}</div>`}}document.addEventListener("DOMContentLoaded",(function(){loadProfiles()}));